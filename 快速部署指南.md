# ğŸš€ TQQQæ™ºèƒ½äº¤æ˜“ç­–ç•¥å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, Ubuntu 18.04+, CentOS 7+
- **å†…å­˜**: æœ€å°‘2GBï¼Œæ¨è4GB+
- **å­˜å‚¨**: æœ€å°‘1GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### å¿…éœ€è½¯ä»¶
- **Python**: 3.8+ (æ¨è3.12)
- **Git**: æœ€æ–°ç‰ˆæœ¬
- **IB Gateway**: å·²é…ç½®å¹¶è¿è¡Œ

## ğŸ¯ æ¨èéƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### Linux/macOS
```bash
# ä¸‹è½½éƒ¨ç½²è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/ddddogshark/IB_Trading/main/deploy.sh -o deploy.sh
chmod +x deploy.sh

# è¿è¡Œéƒ¨ç½²
./deploy.sh -d  # Dockeréƒ¨ç½²
# æˆ–
./deploy.sh -t  # ä¼ ç»Ÿéƒ¨ç½²
```

#### Windows
```cmd
# ä¸‹è½½Windowséƒ¨ç½²è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/ddddogshark/IB_Trading/main/deploy-windows.bat -o deploy-windows.bat

# è¿è¡Œéƒ¨ç½²
deploy-windows.bat
```

### æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ddddogshark/IB_Trading.git
cd IB_Trading
```

#### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
# Linux/macOS
python3.12 -m venv venv
source venv/bin/activate

# Windows
python -m venv venv
venv\Scripts\activate
```

#### 3. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 4. å¯åŠ¨ç­–ç•¥
```bash
python ib_async/tqqq_final_trading.py
```

## ğŸ³ Dockeréƒ¨ç½²ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰

### å¿«é€Ÿå¯åŠ¨
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ddddogshark/IB_Trading.git
cd IB_Trading

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f tqqq-trading
```

### ç®¡ç†å‘½ä»¤
```bash
# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart tqqq-trading

# æ›´æ–°ä»£ç 
git pull
docker-compose build --no-cache
docker-compose up -d
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
# IB Gatewayé…ç½®
IB_HOST=127.0.0.1
IB_PORT=4001
IB_CLIENT_ID=444

# ç­–ç•¥é…ç½®
EMA_PERIOD=20
POSITION_PERCENTAGE=0.1
CHECK_TIME=21:20

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
LOG_FILE=tqqq_trading.log
```

### ç­–ç•¥å‚æ•°è°ƒæ•´
ç¼–è¾‘ `ib_async/tqqq_final_trading.py` ä¸­çš„å‚æ•°ï¼š
```python
# è¿æ¥é…ç½®
self.host = '127.0.0.1'      # IB Gatewayåœ°å€
self.port = 4001             # IB Gatewayç«¯å£
self.client_id = 444         # å®¢æˆ·ç«¯ID

# ç­–ç•¥å‚æ•°
ema_period = 20              # EMAå‘¨æœŸ
position_percentage = 0.1    # ä»“ä½æ¯”ä¾‹ï¼ˆ10%ï¼‰
check_time = "21:20"         # æ£€æŸ¥æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
```

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
```bash
# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep tqqq_final_trading

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/tqqq_trading.log

# æŸ¥çœ‹Dockerå®¹å™¨çŠ¶æ€
docker-compose ps
```

### è‡ªåŠ¨ç›‘æ§
```bash
# å¯ç”¨ç›‘æ§è„šæœ¬
chmod +x monitor.sh
./monitor.sh

# æ·»åŠ åˆ°å®šæ—¶ä»»åŠ¡ï¼ˆLinuxï¼‰
echo "*/5 * * * * $(pwd)/monitor.sh" | crontab -
```

## ğŸ§ª æµ‹è¯•éƒ¨ç½²

### è¿è¡Œæµ‹è¯•
```bash
# å®Œæ•´æµ‹è¯•
python ib_async/test_strategy.py

# å¿«é€Ÿæµ‹è¯•
python ib_async/debug_test.py

# Windowsæµ‹è¯•
test-trading.bat
```

### æµ‹è¯•æ£€æŸ¥é¡¹
- [ ] Pythonç¯å¢ƒæ­£å¸¸
- [ ] ä¾èµ–åŒ…å®‰è£…å®Œæ•´
- [ ] IB Gatewayè¿æ¥æˆåŠŸ
- [ ] ç­–ç•¥ç±»å®ä¾‹åŒ–æˆåŠŸ
- [ ] å†å²æ•°æ®è·å–æ­£å¸¸
- [ ] EMAè®¡ç®—æ­£ç¡®

## ğŸ”’ å®‰å…¨é…ç½®

### é˜²ç«å¢™è®¾ç½®
```bash
# Linux
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 4001/tcp  # IB Gateway
sudo ufw enable

# Windows
netsh advfirewall firewall add rule name="IB Gateway" dir=in action=allow protocol=TCP localport=4001
```

### ç”¨æˆ·æƒé™
```bash
# åˆ›å»ºä¸“ç”¨ç”¨æˆ·
sudo useradd -m -s /bin/bash trading
sudo chown -R trading:trading /home/trading/IB_Trading
sudo chmod 700 /home/trading/IB_Trading
```

## ğŸ†˜ å¸¸è§é—®é¢˜

### 1. Pythonç¯å¢ƒé—®é¢˜
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# é‡æ–°å®‰è£…è™šæ‹Ÿç¯å¢ƒ
rm -rf venv
python3.12 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. IB Gatewayè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ç«¯å£
netstat -an | grep 4001

# æ£€æŸ¥IB Gatewayè¿›ç¨‹
ps aux | grep ibgateway

# é‡å¯IB Gateway
sudo systemctl restart ib-gateway
```

### 3. ä¾èµ–åŒ…å®‰è£…å¤±è´¥
```bash
# å‡çº§pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### 4. æƒé™é—®é¢˜
```bash
# ä¿®å¤æ–‡ä»¶æƒé™
sudo chown -R $USER:$USER .
chmod +x *.sh *.bat

# ä¿®å¤è™šæ‹Ÿç¯å¢ƒæƒé™
chmod +x venv/bin/activate
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©
1. **æŸ¥çœ‹æ—¥å¿—**: `tail -f logs/tqqq_trading.log`
2. **è¿è¡Œæµ‹è¯•**: `python ib_async/test_strategy.py`
3. **æ£€æŸ¥é…ç½®**: ç¡®è®¤IB Gatewayå’Œè´¦æˆ·è®¾ç½®
4. **è”ç³»æ”¯æŒ**: æä¾›é”™è¯¯æ—¥å¿—å’Œç³»ç»Ÿä¿¡æ¯

### æœ‰ç”¨çš„å‘½ä»¤
```bash
# æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯
uname -a
python --version
pip list

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -an | grep 4001
ping 127.0.0.1

# æŸ¥çœ‹ç£ç›˜ç©ºé—´
df -h
du -sh *
```

## ğŸ‰ éƒ¨ç½²å®Œæˆ

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨å°†çœ‹åˆ°ï¼š
- âœ… ç­–ç•¥è¿›ç¨‹æ­£å¸¸è¿è¡Œ
- âœ… æ—¥å¿—æ–‡ä»¶æ­£å¸¸ç”Ÿæˆ
- âœ… IB Gatewayè¿æ¥æˆåŠŸ
- âœ… å®šæ—¶æ£€æŸ¥åŠŸèƒ½æ­£å¸¸

ç°åœ¨æ‚¨çš„TQQQæ™ºèƒ½äº¤æ˜“ç­–ç•¥å·²ç»å‡†å¤‡å°±ç»ªï¼ 