# 🚀 新电脑部署指南

## 📋 部署前准备

### 1. 系统要求
- **操作系统**: Windows 10/11
- **Python**: 3.8+ (推荐3.11或3.12)
- **内存**: 至少4GB RAM
- **网络**: 稳定的互联网连接

### 2. 必需软件
- **Python**: [下载地址](https://www.python.org/downloads/)
  - 安装时**必须勾选** "Add Python to PATH"
  - 推荐安装Python 3.11或3.12
- **IB Gateway**: 从Interactive Brokers官网下载
- **Git** (可选): 用于从GitHub克隆项目

## 🎯 快速部署步骤

### 方法一：一键部署 (推荐)

1. **下载项目**
   - 从GitHub下载项目压缩包: [IB_Trading](https://github.com/ddddogshark/IB_Trading)
   - 解压到任意目录，如 `C:\IB_Trading`

2. **运行环境检测**
   - 双击 `环境检测.bat` 检查系统环境
   - 确保Python环境正常

3. **启动策略**
   - 双击 `启动TQQQ策略.bat` 启动策略
   - 或双击 `测试TQQQ策略.bat` 进行测试

### 方法二：手动部署

1. **安装Python**
   ```bash
   # 下载并安装Python 3.11+
   # 确保勾选"Add Python to PATH"
   ```

2. **克隆项目**
   ```bash
   git clone https://github.com/ddddogshark/IB_Trading.git
   cd IB_Trading
   ```

3. **创建虚拟环境**
   ```bash
   cd ib_async
   python -m venv venv
   venv\Scripts\activate
   ```

4. **安装依赖**
   ```bash
   pip install -r ..\requirements.txt
   ```

5. **运行策略**
   ```bash
   python tqqq_trading.py
   ```

## 🔧 启动脚本说明

### 📁 可用的启动脚本

| 脚本名称 | 功能 | 适用场景 |
|---------|------|----------|
| `启动TQQQ策略.bat` | 完整启动策略 | 日常使用 |
| `测试TQQQ策略.bat` | 运行功能测试 | 功能测试 |
| `环境检测.bat` | 检测系统环境 | 环境诊断 |

### 🎯 推荐使用流程

1. **首次使用**: 双击 `环境检测.bat` 检查环境
2. **日常启动**: 双击 `启动TQQQ策略.bat`
3. **功能测试**: 双击 `测试TQQQ策略.bat`

## ⚠️ 常见问题解决

### 问题1: Python未找到
```
❌ Python未安装或未添加到PATH
```

**解决方案**:
1. 重新安装Python，确保勾选"Add Python to PATH"
2. 运行 `环境检测.bat` 诊断问题

### 问题2: 虚拟环境创建失败
```
❌ 虚拟环境创建失败
```

**解决方案**:
1. 确保Python版本为3.8+
2. 检查磁盘空间是否充足
3. 以管理员身份运行脚本

### 问题3: 依赖安装失败
```
❌ 依赖安装失败
```

**解决方案**:
1. 检查网络连接
2. 尝试使用国内镜像源:
   ```bash
   pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
   ```

### 问题4: 编码问题
```
'ho' is not recognized as an internal or external command
```

**解决方案**:
1. 使用 `启动TQQQ策略.bat` 启动
2. 确保系统支持UTF-8编码

### 问题5: IB Gateway连接失败
```
❌ 连接失败
```

**解决方案**:
1. 确保IB Gateway已启动
2. 检查端口4001是否被占用
3. 确认防火墙设置

## 🔍 环境检测工具

### 使用检测脚本
- `环境检测.bat`: 检测Python环境和项目配置

### 手动检测命令
```bash
# 检测Python版本
python --version

# 检测pip
pip --version

# 检测虚拟环境
venv\Scripts\python.exe --version
```

## 📊 部署验证

### 1. 环境检查
```bash
# 检查Python
python --version

# 检查虚拟环境
venv\Scripts\activate
python --version

# 检查依赖
pip list
```

### 2. 功能测试
1. 运行 `测试TQQQ策略.bat`
2. 检查输出是否正常
3. 确认没有错误信息

### 3. 策略测试
1. 运行 `测试TQQQ策略.bat`
2. 检查各项功能是否正常
3. 确认连接IB Gateway成功

## 🚀 生产环境部署

### 1. 服务器部署
- 使用 `启动TQQQ策略.bat` 进行服务器部署
- 配置Windows服务自动启动
- 设置日志轮转

### 2. 监控配置
- 配置日志监控
- 设置异常告警
- 定期备份配置

## 📞 技术支持

### 获取帮助
1. 查看 `Python环境问题解决.md`
2. 运行 `环境检测.bat` 诊断问题
3. 查看项目日志文件

### 日志文件位置
- 策略日志: `ib_async/tqqq_trading.log`
- 系统日志: Windows事件查看器

### 联系方式
- GitHub Issues: [项目Issues页面](https://github.com/ddddogshark/IB_Trading/issues)
- 项目文档: 查看项目根目录的README.md

---

**注意**: 这是实盘交易策略，请确保在充分测试后再使用。交易有风险，投资需谨慎！ 